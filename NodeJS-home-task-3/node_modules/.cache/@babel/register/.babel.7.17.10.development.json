{"{\"assumptions\":{},\"sourceRoot\":\"P:\\\\Home-tasks\\\\Nodejs-Home-task-2\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"P:\\\\Home-tasks\\\\Nodejs-Home-task-2\",\"filename\":\"P:\\\\Home-tasks\\\\Nodejs-Home-task-2\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"P:\\\\Home-tasks\\\\Nodejs-Home-task-2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.10:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar express_1 = require(\"express\");\n\nvar _require = require('uuid'),\n    uuid4 = _require.v4;\n\nvar joi_1 = require(\"@hapi/joi\");\n\nvar app = (0, express_1[\"default\"])();\napp.use(express_1[\"default\"].json());\nvar users = [];\nvar userSchema = joi_1[\"default\"].object({\n  login: joi_1[\"default\"].string().required(),\n  password: joi_1[\"default\"].string().required().alphanum(),\n  age: joi_1[\"default\"].number().required().min(4).max(130)\n});\n\nvar userValidator = function userValidator(schema) {\n  return function (req, res, next) {\n    var error = schema.validate(req.body).error;\n\n    if (error === null || error === void 0 ? void 0 : error.isJoi) {\n      res.status(400).json(error.message);\n    }\n\n    next();\n  };\n};\n/* CRUD operations for Users */\n\n\napp.post('/users', userValidator(userSchema), function (req, res) {\n  var user = req.body;\n  user.id = uuid4();\n  user.isDeleted = false;\n  users.push(user);\n  res.setHeader('Location', \"/users/\".concat(user.id));\n  res.status(201).send(user);\n});\napp.get('/users', function (req, res) {\n  var _a = req.query,\n      _b = _a.loginSubstring,\n      loginSubstring = _b === void 0 ? '' : _b,\n      _c = _a.limit,\n      limit = _c === void 0 ? 10 : _c;\n  var list = users.filter(function (user) {\n    return user.login.includes(loginSubstring) && !user.isDeleted;\n  }).sort(function (a, b) {\n    return a.login.localeCompare(b.login);\n  }).slice(0, limit);\n  res.send(list);\n});\napp.get('/users/:id', function (req, res) {\n  var id = req.params.id;\n  var userToFind = users.find(function (user) {\n    return user.id === id;\n  });\n\n  if (!userToFind) {\n    res.status(404).send('User not found');\n  }\n\n  res.send(userToFind);\n});\napp.put('/users/:id', userValidator(userSchema), function (req, res) {\n  var id = req.params.id;\n  var _a = req.body,\n      login = _a.login,\n      password = _a.password,\n      age = _a.age;\n  var userToUpdate = users.find(function (u) {\n    return u.id === id;\n  });\n\n  if (!userToUpdate) {\n    res.status(404).send('User is not found');\n  } else {\n    userToUpdate.login = login;\n    userToUpdate.password = password;\n    userToUpdate.age = age;\n    res.send(userToUpdate);\n  }\n});\napp[\"delete\"]('/users/:id', function (req, res) {\n  var id = req.params.id;\n  var userToDelete = users.find(function (user) {\n    return user.id === id;\n  });\n\n  if (!userToDelete || userToDelete.isDeleted) {\n    res.status(404).send('User is not found');\n  } else {\n    userToDelete.isDeleted = true;\n    res.status(204).send();\n  }\n});\napp.listen(3000, function () {\n  console.log('Service is online');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4cHJlc3NfMSIsInJlcXVpcmUiLCJ1dWlkNCIsInY0Iiwiam9pXzEiLCJhcHAiLCJ1c2UiLCJqc29uIiwidXNlcnMiLCJ1c2VyU2NoZW1hIiwib2JqZWN0IiwibG9naW4iLCJzdHJpbmciLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwiYWxwaGFudW0iLCJhZ2UiLCJudW1iZXIiLCJtaW4iLCJtYXgiLCJ1c2VyVmFsaWRhdG9yIiwic2NoZW1hIiwicmVxIiwicmVzIiwibmV4dCIsImVycm9yIiwidmFsaWRhdGUiLCJib2R5IiwiaXNKb2kiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsInVzZXIiLCJpZCIsImlzRGVsZXRlZCIsInB1c2giLCJzZXRIZWFkZXIiLCJjb25jYXQiLCJzZW5kIiwiZ2V0IiwiX2EiLCJxdWVyeSIsIl9iIiwibG9naW5TdWJzdHJpbmciLCJfYyIsImxpbWl0IiwibGlzdCIsImZpbHRlciIsImluY2x1ZGVzIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsInNsaWNlIiwicGFyYW1zIiwidXNlclRvRmluZCIsImZpbmQiLCJwdXQiLCJ1c2VyVG9VcGRhdGUiLCJ1IiwidXNlclRvRGVsZXRlIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiUDpcXEhvbWUtdGFza3NcXE5vZGVqcy1Ib21lLXRhc2stMlxcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgZXhwcmVzc18xID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IHsgdjQ6IHV1aWQ0IH0gPSByZXF1aXJlKCd1dWlkJyk7XHJcbnZhciBqb2lfMSA9IHJlcXVpcmUoXCJAaGFwaS9qb2lcIik7XHJcbnZhciBhcHAgPSAoMCwgZXhwcmVzc18xLmRlZmF1bHQpKCk7XHJcbmFwcC51c2UoZXhwcmVzc18xLmRlZmF1bHQuanNvbigpKTtcclxudmFyIHVzZXJzID0gW107XHJcbnZhciB1c2VyU2NoZW1hID0gam9pXzEuZGVmYXVsdC5vYmplY3Qoe1xyXG4gICAgbG9naW46IGpvaV8xLmRlZmF1bHQuc3RyaW5nKCkucmVxdWlyZWQoKSxcclxuICAgIHBhc3N3b3JkOiBqb2lfMS5kZWZhdWx0LnN0cmluZygpLnJlcXVpcmVkKCkuYWxwaGFudW0oKSxcclxuICAgIGFnZTogam9pXzEuZGVmYXVsdC5udW1iZXIoKS5yZXF1aXJlZCgpLm1pbig0KS5tYXgoMTMwKSxcclxufSk7XHJcbnZhciB1c2VyVmFsaWRhdG9yID0gZnVuY3Rpb24gKHNjaGVtYSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xyXG4gICAgICAgIHZhciBlcnJvciA9IHNjaGVtYS52YWxpZGF0ZShyZXEuYm9keSkuZXJyb3I7XHJcbiAgICAgICAgaWYgKGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlcnJvci5pc0pvaSkge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgfTtcclxufTtcclxuLyogQ1JVRCBvcGVyYXRpb25zIGZvciBVc2VycyAqL1xyXG5hcHAucG9zdCgnL3VzZXJzJywgdXNlclZhbGlkYXRvcih1c2VyU2NoZW1hKSwgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICB2YXIgdXNlciA9IHJlcS5ib2R5O1xyXG4gICAgdXNlci5pZCA9IHV1aWQ0KCk7XHJcbiAgICB1c2VyLmlzRGVsZXRlZCA9IGZhbHNlO1xyXG4gICAgdXNlcnMucHVzaCh1c2VyKTtcclxuICAgIHJlcy5zZXRIZWFkZXIoJ0xvY2F0aW9uJywgXCIvdXNlcnMvXCIuY29uY2F0KHVzZXIuaWQpKTtcclxuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHVzZXIpO1xyXG59KTtcclxuYXBwLmdldCgnL3VzZXJzJywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICB2YXIgX2EgPSByZXEucXVlcnksIF9iID0gX2EubG9naW5TdWJzdHJpbmcsIGxvZ2luU3Vic3RyaW5nID0gX2IgPT09IHZvaWQgMCA/ICcnIDogX2IsIF9jID0gX2EubGltaXQsIGxpbWl0ID0gX2MgPT09IHZvaWQgMCA/IDEwIDogX2M7XHJcbiAgICB2YXIgbGlzdCA9IHVzZXJzXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAodXNlcikgeyByZXR1cm4gdXNlci5sb2dpbi5pbmNsdWRlcyhsb2dpblN1YnN0cmluZykgJiYgIXVzZXIuaXNEZWxldGVkOyB9KVxyXG4gICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmxvZ2luLmxvY2FsZUNvbXBhcmUoYi5sb2dpbik7IH0pXHJcbiAgICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcclxuICAgIHJlcy5zZW5kKGxpc3QpO1xyXG59KTtcclxuYXBwLmdldCgnL3VzZXJzLzppZCcsIGZ1bmN0aW9uIChyZXEsIHJlcykge1xyXG4gICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIHZhciB1c2VyVG9GaW5kID0gdXNlcnMuZmluZChmdW5jdGlvbiAodXNlcikgeyByZXR1cm4gdXNlci5pZCA9PT0gaWQ7IH0pO1xyXG4gICAgaWYgKCF1c2VyVG9GaW5kKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ1VzZXIgbm90IGZvdW5kJyk7XHJcbiAgICB9XHJcbiAgICByZXMuc2VuZCh1c2VyVG9GaW5kKTtcclxufSk7XHJcbmFwcC5wdXQoJy91c2Vycy86aWQnLCB1c2VyVmFsaWRhdG9yKHVzZXJTY2hlbWEpLCBmdW5jdGlvbiAocmVxLCByZXMpIHtcclxuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICB2YXIgX2EgPSByZXEuYm9keSwgbG9naW4gPSBfYS5sb2dpbiwgcGFzc3dvcmQgPSBfYS5wYXNzd29yZCwgYWdlID0gX2EuYWdlO1xyXG4gICAgdmFyIHVzZXJUb1VwZGF0ZSA9IHVzZXJzLmZpbmQoZnVuY3Rpb24gKHUpIHsgcmV0dXJuIHUuaWQgPT09IGlkOyB9KTtcclxuICAgIGlmICghdXNlclRvVXBkYXRlKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ1VzZXIgaXMgbm90IGZvdW5kJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB1c2VyVG9VcGRhdGUubG9naW4gPSBsb2dpbjtcclxuICAgICAgICB1c2VyVG9VcGRhdGUucGFzc3dvcmQgPSBwYXNzd29yZDtcclxuICAgICAgICB1c2VyVG9VcGRhdGUuYWdlID0gYWdlO1xyXG4gICAgICAgIHJlcy5zZW5kKHVzZXJUb1VwZGF0ZSk7XHJcbiAgICB9XHJcbn0pO1xyXG5hcHAuZGVsZXRlKCcvdXNlcnMvOmlkJywgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgdmFyIHVzZXJUb0RlbGV0ZSA9IHVzZXJzLmZpbmQoZnVuY3Rpb24gKHVzZXIpIHsgcmV0dXJuIHVzZXIuaWQgPT09IGlkOyB9KTtcclxuICAgIGlmICghdXNlclRvRGVsZXRlIHx8IHVzZXJUb0RlbGV0ZS5pc0RlbGV0ZWQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnVXNlciBpcyBub3QgZm91bmQnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHVzZXJUb0RlbGV0ZS5pc0RlbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoMjA0KS5zZW5kKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5hcHAubGlzdGVuKDMwMDAsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlIGlzIG9ubGluZScpO1xy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","map":{"version":3,"names":["Object","defineProperty","exports","value","express_1","require","uuid4","v4","joi_1","app","use","json","users","userSchema","object","login","string","required","password","alphanum","age","number","min","max","userValidator","schema","req","res","next","error","validate","body","isJoi","status","message","post","user","id","isDeleted","push","setHeader","concat","send","get","_a","query","_b","loginSubstring","_c","limit","list","filter","includes","sort","a","b","localeCompare","slice","params","userToFind","find","put","userToUpdate","u","userToDelete","listen","console","log"],"sourceRoot":"P:\\Home-tasks\\Nodejs-Home-task-2\\","sources":["index.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar express_1 = require(\"express\");\r\nconst { v4: uuid4 } = require('uuid');\r\nvar joi_1 = require(\"@hapi/joi\");\r\nvar app = (0, express_1.default)();\r\napp.use(express_1.default.json());\r\nvar users = [];\r\nvar userSchema = joi_1.default.object({\r\n    login: joi_1.default.string().required(),\r\n    password: joi_1.default.string().required().alphanum(),\r\n    age: joi_1.default.number().required().min(4).max(130),\r\n});\r\nvar userValidator = function (schema) {\r\n    return function (req, res, next) {\r\n        var error = schema.validate(req.body).error;\r\n        if (error === null || error === void 0 ? void 0 : error.isJoi) {\r\n            res.status(400).json(error.message);\r\n        }\r\n        next();\r\n    };\r\n};\r\n/* CRUD operations for Users */\r\napp.post('/users', userValidator(userSchema), function (req, res) {\r\n    var user = req.body;\r\n    user.id = uuid4();\r\n    user.isDeleted = false;\r\n    users.push(user);\r\n    res.setHeader('Location', \"/users/\".concat(user.id));\r\n    res.status(201).send(user);\r\n});\r\napp.get('/users', function (req, res) {\r\n    var _a = req.query, _b = _a.loginSubstring, loginSubstring = _b === void 0 ? '' : _b, _c = _a.limit, limit = _c === void 0 ? 10 : _c;\r\n    var list = users\r\n        .filter(function (user) { return user.login.includes(loginSubstring) && !user.isDeleted; })\r\n        .sort(function (a, b) { return a.login.localeCompare(b.login); })\r\n        .slice(0, limit);\r\n    res.send(list);\r\n});\r\napp.get('/users/:id', function (req, res) {\r\n    var id = req.params.id;\r\n    var userToFind = users.find(function (user) { return user.id === id; });\r\n    if (!userToFind) {\r\n        res.status(404).send('User not found');\r\n    }\r\n    res.send(userToFind);\r\n});\r\napp.put('/users/:id', userValidator(userSchema), function (req, res) {\r\n    var id = req.params.id;\r\n    var _a = req.body, login = _a.login, password = _a.password, age = _a.age;\r\n    var userToUpdate = users.find(function (u) { return u.id === id; });\r\n    if (!userToUpdate) {\r\n        res.status(404).send('User is not found');\r\n    }\r\n    else {\r\n        userToUpdate.login = login;\r\n        userToUpdate.password = password;\r\n        userToUpdate.age = age;\r\n        res.send(userToUpdate);\r\n    }\r\n});\r\napp.delete('/users/:id', function (req, res) {\r\n    var id = req.params.id;\r\n    var userToDelete = users.find(function (user) { return user.id === id; });\r\n    if (!userToDelete || userToDelete.isDeleted) {\r\n        res.status(404).send('User is not found');\r\n    }\r\n    else {\r\n        userToDelete.isDeleted = true;\r\n        res.status(204).send();\r\n    }\r\n});\r\napp.listen(3000, function () {\r\n    console.log('Service is online');\r\n});\r\n"],"mappings":"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"}},"mtime":1652083045590}}